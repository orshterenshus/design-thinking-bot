{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///C:/VS%20Code%20repos/AntiGraviry%20Folder/disign-v2/design-thinking-bot/src/app/api/login/route.js"],"sourcesContent":["\r\nimport { promises as fs } from 'fs';\r\nimport path from 'path';\r\nimport { NextResponse } from 'next/server';\r\n\r\nconst dataFilePath = path.join(process.cwd(), 'data', 'db.json');\r\n\r\nexport async function POST(request) {\r\n    try {\r\n        const { username, password } = await request.json();\r\n\r\n        const fileContents = await fs.readFile(dataFilePath, 'utf8');\r\n        const data = JSON.parse(fileContents);\r\n\r\n        const user = data.users.find((u) =>\r\n            (u.username === username || u.email === username) && u.password === password\r\n        );\r\n\r\n        if (user) {\r\n            return NextResponse.json({ message: 'Login successful', user });\r\n        } else {\r\n            return NextResponse.json({ error: 'Invalid credentials' }, { status: 401 });\r\n        }\r\n    } catch (error) {\r\n        return NextResponse.json({ error: 'Server error' }, { status: 500 });\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;;;;AAEA,MAAM,eAAe,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,QAAQ;AAE/C,eAAe,KAAK,OAAO;IAC9B,IAAI;QACA,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,MAAM,QAAQ,IAAI;QAEjD,MAAM,eAAe,MAAM,yGAAE,CAAC,QAAQ,CAAC,cAAc;QACrD,MAAM,OAAO,KAAK,KAAK,CAAC;QAExB,MAAM,OAAO,KAAK,KAAK,CAAC,IAAI,CAAC,CAAC,IAC1B,CAAC,EAAE,QAAQ,KAAK,YAAY,EAAE,KAAK,KAAK,QAAQ,KAAK,EAAE,QAAQ,KAAK;QAGxE,IAAI,MAAM;YACN,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,SAAS;gBAAoB;YAAK;QACjE,OAAO;YACH,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAsB,GAAG;gBAAE,QAAQ;YAAI;QAC7E;IACJ,EAAE,OAAO,OAAO;QACZ,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAe,GAAG;YAAE,QAAQ;QAAI;IACtE;AACJ"}}]
}